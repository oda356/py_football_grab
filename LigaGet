from urllib.request import urlopen
from selenium import webdriver
from bs4 import BeautifulSoup
from selenium.webdriver.common.by import By
import os
import time

html = urlopen("http://www.laliga.es/en/laliga-santander#box-resultados-competicion")
bsObj = BeautifulSoup(html.read(),'html.parser')
#print(bsObj.prettify())
path = os.getcwd()+'\phantomjs.exe'
plays = bsObj.findAll(class_="equipos-resultados")
driver = webdriver.PhantomJS(executable_path=path)
driver.get("http://www.laliga.es/en/laliga-santander#box-resultados-competicion.html")
plays = driver.find_elements(By.CSS_SELECTOR,".equipos-resultados")

for play in plays:
    teamLocal = play.find(class_="equipo local")
    playResult = play.find(class_="hora-resultado")
    teamAway = play.find(class_="equipo visitante")
    print(teamLocal.text)
    print(playResult.text)
    print(teamAway.text)
#    print (play.text)


driver.get("http://www.laliga.es/en/laliga-santander#box-resultados-competicion.html")
#leftButton = driver.find_element(By.CSS_SELECTOR,".prev.flecha_clasf_anterior.pointer.flecha_fecha")
leftButton = driver.find_element(By.CSS_SELECTOR,".flecha_jornada_anterior.pointer.flecha_fecha")
leftButton.click()
time.sleep(1)
plays = driver.find_elements(By.CSS_SELECTOR,".equipos-resultados")
#plays = bsObj.findAll(class_="equipos-resultados")
for play in plays:
    teamLocal = play.find_element(By.CSS_SELECTOR,".equipo.local").find_element(By.CSS_SELECTOR,".team")
    playResult = play.find_element(By.CSS_SELECTOR,".hora-resultado").find_element(By.CSS_SELECTOR,".horario-partido")
    teamAway = play.find_element(By.CSS_SELECTOR,".equipo.visitante").find_element(By.CSS_SELECTOR,".team")
    print(teamLocal.text)
    print(playResult.text)
    print(teamAway.text)

print(playss)
